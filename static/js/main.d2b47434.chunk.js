(this["webpackJsonpmartian-robots-challenge"]=this["webpackJsonpmartian-robots-challenge"]||[]).push([[0],{13:function(e,t,r){},15:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),a=r(8),o=r.n(a),i=(r(13),r(3)),s=r(2),u=r(6),b=r(0),d={board:{width:0,height:0,grid:[]},board_builded:!1,current_robot:{current_direction:0,cordinates:{x:0,y:0},lost:!1},robot_scents:[],lost_cordinates:[{x:5,y:1}]},j=c.a.createContext(d),l=function(e){var t=e.children,r=Object(n.useState)(d),c=Object(i.a)(r,2),a=c[0],o=c[1];return Object(b.jsx)(j.Provider,{value:[a,o],children:t})},O=function(e,t){return""===t||e.test(t)},h=1,f=function(){var e=Object(n.useContext)(j),t=Object(i.a)(e,2),r=t[0],c=t[1],a=!1,o=function(e){c((function(t){return Object(s.a)(Object(s.a)({},t),{},{board_builded:e})}))},b=function(e,t){for(var r=[],n=[],c=0;c<e;c++)n.push(0);for(var a=0;a<t;a++)r.push([].concat(n));return r},d=function(e){return!r.lost_cordinates.some((function(t){return t.x===e.x&&t.y===e.y}))&&(a=!0,function(e){var t=Object(u.a)(r.lost_cordinates);t.push(e),c((function(e){return Object(s.a)(Object(s.a)({},e),{},{lost_cordinates:t})}))}(e),!0)},l=function(e,t){var n=e.current_direction,c=e.cordinates,o=e.cordinates;t.split("").every((function(e){switch(e.toUpperCase()){case"R":n+=90;break;case"L":n+=-90;break;case"F":switch(o=Object(s.a)({},c),n){case 0:c.y--;break;case 90:c.x++;break;case 180:c.y++;break;case 270:c.x--}}if((t=c).x<0||t.x>r.board.width||t.y<0||t.y>r.board.height){if(d(c))return!1;c=o}var t;return 360===n?n=0:n<0&&(n+=360),!0})),e={current_direction:n,cordinates:c,lost:a},a||O(c),f(e)},O=function(e){var t=Object(u.a)(r.board.grid);t[e.y][e.x]=h,h++,c((function(e){return Object(s.a)(Object(s.a)({},e),{},{board:Object(s.a)(Object(s.a)({},e.board),{},{grid:t})})}))},f=function(e){var t=Object(u.a)(r.robot_scents),n="".concat(e.cordinates.x," ").concat(e.cordinates.y," ").concat(function(e){switch(e){case 0:default:return"N";case 90:return"E";case 180:return"S";case 270:return"W"}}(e.current_direction));e.lost&&(n+=" LOST"),t.push(n),c((function(e){return Object(s.a)(Object(s.a)({},e),{},{robot_scents:t})}))};return{getBoard:function(){return r.board},getRobotScents:function(){return r.robot_scents},getBoardBuilded:function(){return r.board_builded},getBoardWidth:function(){return r.board.width},getBoardHeight:function(){return r.board.height},setBoardBuilded:o,buildBoard:function(e,t){c((function(r){return Object(s.a)(Object(s.a)({},r),{},{board:{width:e-1,height:t-1,grid:b(e,t)}})}),o(!0))},buildAndMoveRobot:function(e,t,n){var a=Object(s.a)({},r.current_robot);a.current_direction=function(e){switch(e){case"N":default:return 0;case"E":return 90;case"S":return 180;case"W":return 270}}(e),a.cordinates=t,c((function(e){return Object(s.a)(Object(s.a)({},e),{},{current_robot:a})}),l(a,n))}}},x=function(){var e=f().buildBoard,t=Object(n.useState)(0),r=Object(i.a)(t,2),c=r[0],a=r[1],o=Object(n.useState)(0),s=Object(i.a)(o,2),u=s[0],d=s[1],j=Object(n.useState)(""),l=Object(i.a)(j,2),O=l[0],h=l[1],x=Object(n.useState)(""),v=Object(i.a)(x,2),g=v[0],p=v[1],m=function(){h(""),p("")};return Object(b.jsxs)("div",{className:"board-params",children:[Object(b.jsx)("h1",{children:"Board params"}),Object(b.jsxs)("div",{className:"form-element",children:[Object(b.jsx)("label",{children:"Board width"}),Object(b.jsx)("input",{type:"number",value:O,onChange:function(e){var t=parseInt(e.currentTarget.value);t>=0&&t<=50?(h(t.toString()),a(t)):h(O.toString())},placeholder:"X"})]}),Object(b.jsxs)("div",{className:"form-element",children:[Object(b.jsx)("label",{children:"Board height"}),Object(b.jsx)("input",{type:"number",value:g,onChange:function(e){var t=parseInt(e.currentTarget.value);t>=0&&t<=50?(p(t.toString()),d(t)):p(g.toString())},placeholder:"Y"})]}),Object(b.jsx)("button",{onClick:function(){e(c,u),m()},disabled:!(""!==O&&""!==g),children:"Build board"})]})},v=function(){var e=(0,f().getBoard)();return Object(b.jsxs)("section",{className:"board",children:[Object(b.jsx)("h1",{children:"Board"}),Object(b.jsx)("div",{className:"board-container",children:e&&e.grid.map((function(e,t){return Object(b.jsx)("div",{className:"board-row",children:e.map((function(e,r){return Object(b.jsx)("span",{className:"board-item",children:e||""},"board-row-".concat(t,"-col-").concat(r))}))},"board-row-".concat(t))}))})]})},g=function(){var e=(0,f().getRobotScents)();return Object(b.jsxs)("section",{className:"robot-scents",children:[Object(b.jsx)("h1",{children:"Robot Scents"}),e&&e.map((function(e,t){return Object(b.jsx)("b",{children:e},"scent-".concat(t))}))]})},p=/^[NSEW]{1}$/,m=/^[RLF]{1,100}$/,S=function(){var e=f(),t=e.buildAndMoveRobot,r=e.getBoardWidth,c=e.getBoardHeight,a=r(),o=c(),u=Object(n.useState)({x:0,y:0}),d=Object(i.a)(u,2),j=d[0],l=d[1],h=Object(n.useState)("N"),x=Object(i.a)(h,2),v=x[0],g=x[1],S=Object(n.useState)(""),N=Object(i.a)(S,2),y=N[0],B=N[1],_=Object(n.useState)(""),w=Object(i.a)(_,2),C=w[0],R=w[1],k=Object(n.useState)(""),T=Object(i.a)(k,2),W=T[0],E=T[1],F=Object(n.useState)(""),I=Object(i.a)(F,2),L=I[0],M=I[1],U=Object(n.useState)(""),A=Object(i.a)(U,2),H=A[0],J=A[1],X=function(){R(""),E(""),M(""),J("")};return Object(b.jsxs)("section",{className:"robot-instructions",children:[Object(b.jsx)("h1",{children:"New robot"}),Object(b.jsxs)("div",{className:"form-element",children:[Object(b.jsx)("label",{children:"Robot start cordinates"}),Object(b.jsx)("input",{type:"number",value:C,onChange:function(e){var t=parseInt(e.currentTarget.value);t>=0&&t<=a?(R(t.toString()),l((function(e){return Object(s.a)(Object(s.a)({},e),{},{x:t})}))):R(C)},min:"0",max:a,placeholder:"X"}),Object(b.jsx)("input",{type:"number",value:W,onChange:function(e){var t=parseInt(e.currentTarget.value);t>=0&&t<=o?(E(t.toString()),l((function(e){return Object(s.a)(Object(s.a)({},e),{},{y:t})}))):E(W)},min:"0",max:o,placeholder:"Y"})]}),Object(b.jsxs)("div",{className:"form-element",children:[Object(b.jsx)("label",{children:"Robot initial direction"}),Object(b.jsx)("input",{type:"text",value:L,onChange:function(e){var t=e.currentTarget.value.toUpperCase();O(p,t)?(M(t),g(t)):M(L)},placeholder:"N, S, E, W"}),Object(b.jsx)("span",{children:"N: North, S: South, E: East, W: West"})]}),Object(b.jsxs)("div",{className:"form-element",children:[Object(b.jsx)("label",{children:"Robot instructions"}),Object(b.jsx)("input",{type:"text",value:H,onChange:function(e){var t=e.currentTarget.value.toUpperCase();O(m,t)?(J(t),B(t)):J(H)},placeholder:"L, R, F"}),Object(b.jsx)("span",{children:"L: Turn left, R: Turn right, F: Forward"})]}),Object(b.jsx)("button",{onClick:function(){t(v,j,y),X()},disabled:!(""!==C&&""!==W&&""!==L&&""!==H),children:"Move robot"})]})},N=function(){var e=(0,f().getBoardBuilded)();return Object(b.jsx)(b.Fragment,{children:e?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(v,{}),Object(b.jsxs)("div",{className:"information-container",children:[Object(b.jsx)(S,{}),Object(b.jsx)(g,{})]})]}):Object(b.jsx)(x,{})})};o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(l,{children:Object(b.jsx)(N,{})})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.d2b47434.chunk.js.map